pipeline {
  agent any
  stages {
    stage("build") {
      steps {
      echo 'building the application...'
      nodejs('node-17.6'){
       sh 'yarn install'
      }
       script {
         def test = 2 + 2 > 3 ? 'cool' : 'not cool'
         echo test
       }
     }
    } 
    stage("backend"){
      steps {
       echo 'running the backend'
       withGradle() {
         sh './gradle -v'
       }
      }
    }
    stage("test") {
      steps {
       echo 'testing the application...'
     }
    } 
    stage("deploy") {
      steps {
       echo 'deploying the application...'
     }
    } 
  }
}  
